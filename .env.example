# Supabase Configuration
# Get these values from your Supabase project settings: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Supabase Service Role Key (Server-side only)
# Used for operations that bypass Row Level Security (RLS)
# REQUIRED for cron jobs and admin operations
# WARNING: Keep this secret! Never expose to client-side code
# Find this in: https://app.supabase.com/project/_/settings/api (under "service_role key")
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Cron Job Authentication
# Secret token for authenticating manual cron triggers
# Generate a secure random 32-character string
# Used with Bearer authentication: Authorization: Bearer <CRON_SECRET>
# Example generation: openssl rand -base64 32
CRON_SECRET=your_random_32_character_secret_here

# Scraper Service Configuration
# URL to the scraper service (deployed via Coolify + Cloudflare Tunnel)
# For local development: http://localhost:3000
# For production: https://scraper.yourdomain.com
SCRAPER_URL=http://localhost:3000

# Bearer token for authenticating with the scraper service
# Generate a secure random token and use the same value in scraper/.env
SCRAPER_SECRET_TOKEN=your_secret_token_here

# Scraper Batch Size (Concurrency)
# Number of sections to scrape concurrently in each batch
# Higher values = faster but more resource-intensive and higher risk of rate limiting
# Lower values = slower but safer and more conservative
# Recommended range: 1-5
# Default: 3 (balanced performance and safety)
SCRAPER_BATCH_SIZE=3

# Email Notification Configuration (Resend)
# API key from https://resend.com/api-keys
# Sign up for free tier: 100 emails/day, 3,000 emails/month
RESEND_API_KEY=re_your_api_key_here

# Sender email address (must be verified in Resend)
# For development: Use resend.dev domain (e.g., onboarding@resend.dev)
# For production: Use your own verified domain (e.g., notifications@yourdomain.com)
NOTIFICATION_FROM_EMAIL=onboarding@resend.dev

# Resend Webhook Secret (for email delivery events)
# Create a webhook in Resend dashboard: https://resend.com/webhooks
# Webhook URL: https://yourdomain.com/api/webhooks/resend
# Events to subscribe: email.bounced, email.complained, email.delivered
# Copy the "Signing Secret" from the webhook configuration
RESEND_WEBHOOK_SECRET=your_webhook_signing_secret_here

# Site URL (for unsubscribe links)
# Base URL of your deployed site
# For development: http://localhost:3000
# For production: https://yourdomain.com
NEXT_PUBLIC_SITE_URL=https://pickmyclass.app

# Sentry Error Tracking (Optional but recommended for production)
# Get your DSN from: https://sentry.io/settings/projects/your-project/keys/
# Sign up at: https://sentry.io
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/your_project_id
NEXT_PUBLIC_SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/your_project_id

# Sentry Source Maps Upload (Optional - only needed for production builds)
# Used to upload source maps for better error stack traces
# SENTRY_ORG=your-sentry-organization-slug
# SENTRY_PROJECT=your-sentry-project-slug
# SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Security Configuration
# Maximum number of class watches a single user can create
# Prevents abuse and database bloat
# Default: 10 (reasonable limit for most students)
MAX_WATCHES_PER_USER=10
